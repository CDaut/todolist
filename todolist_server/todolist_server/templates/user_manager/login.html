{% extends 'base/header.html' %}
{% load static %}
{% block content %}
    <nav class="login-title">
        <span class="title">Please log in first</span>
    </nav>
    <link rel="stylesheet" href="{% static 'task_display/login.css' %}">
    <div class="row s6 formcontainer">
        <form class="col z-depth-3" action="{% url 'login' %}" method="POST" name="login">
            {% csrf_token %}
            <div class="input-field row">
                <i class="material-icons prefix">account_circle</i>
                <input placeholder="Username" id="username" type="text" class="validate" name="username">
            </div>
            <div class="input-field row">
                <i class="material-icons prefix">lock</i>
                <input placeholder="Password" id="password" type="password" class="validate" name="password">
            </div>
            <input type="hidden" name="next" id="input_redirect_to">
            <button class="btn waves-effect waves-light" type="submit" name="login">Sign in
                <i class="material-icons right">send</i>
            </button>
        </form>
    </div>
    <script type="text/javascript">
        window.onload = () => {
            const input = document.getElementById("input_redirect_to");
            input.setAttribute("value", window.location.search.substr(1).split("=")[1]);
        }
    </script>
{% endblock %}